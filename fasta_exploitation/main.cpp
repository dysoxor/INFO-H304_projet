#include "fasta.cpp"
#include "binary.cpp"
#include "research.cpp"
#include <iterator>
#include <vector>
#include <algorithm>




int main( int argc, char **argv ){

  if( argc != 2 ){
      cerr << "il faut 1 seul parametre" << endl;
      return EXIT_FAILURE;
  }

  /*string name, content = "";
  tie(name, content) = readFasta(argv[1]);

  if ( name.empty() || content.empty()){
    cerr << "pas possible d'ouvrir le fichier ou il est vide" << endl;
    return EXIT_FAILURE;
  }else{
    cout << "name:  " << name << endl;
    cout << "content:  " << content << endl;
  }*/
  ifstream file(P00533.fasta);

  file.seekg(0, ios::end);
  int size=file.tellg();
  file.seekg(0, ios::beg);
  string ex;
  file.read(ex,size);
  ex = substr(ex.find("\n")+2);


  PIN *filePIN = new PIN();
  filePIN->read();

  PSQ *filePSQ = new PSQ();
  filePSQ->read(filePIN);


  int pos = research(ex, "uniprot_sprot.fasta.psq", filePIN);
  cout << pos << endl;
  //delete filePIN;
  delete filePIN;




  return 0;
}
