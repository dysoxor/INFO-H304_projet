#include "fasta.cpp"
#include "binary.cpp"




int main( int argc, char **argv ){

  if( argc != 2 ){
      cerr << "il faut 1 seul parametre" << endl;
      return EXIT_FAILURE;
  }

  string name, content = "";
  tie(name, content) = readFasta(argv[1]);

  if ( name.empty() || content.empty()){
    cerr << "pas possible d'ouvrir le fichier ou il est vide" << endl;
    return EXIT_FAILURE;
  }else{
    cout << "name:  " << name << endl;
    cout << "content:  " << content << endl;
  }

  PIN *filePIN = new PIN();
  filePIN->read();
  PSQ *filePSQ = new PSQ();
  int index = filePSQ->read(filePIN, content);
  if (index != -1){
    PHR *filePHR = new PHR();
    filePHR->read(filePIN,index);
    delete filePHR;
  }

  delete filePIN;
  delete filePSQ;



  return 0;
}
